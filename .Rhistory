family = "AppleSDGothicNeo-Heavy") +
theme(axis.title = element_blank())
ggplot(spData::world) +
geom_sf() +
coord_sf(xlim = c(100, 150), # 경도
ylim = c(25, 50)) + # 위도
annotate("text", x = 128, y = 34, alpha = 0.5,
label = v_water_mark, colour = "gray0",size = 7,
family = "AppleSDGothicNeo-Heavy") +
theme(axis.title = element_blank())
ggplot(spData::world) +
geom_sf() +
coord_sf(xlim = c(100, 150), # 경도
ylim = c(25, 50)) + # 위도
annotate("text", x = 128, y = 40, alpha = 0.5,
label = v_water_mark, colour = "gray0",size = 7,
family = "AppleSDGothicNeo-Heavy") +
theme(axis.title = element_blank())
ggplot(spData::world) +
geom_sf() +
coord_sf(xlim = c(100, 150), # 경도
ylim = c(25, 50)) + # 위도
annotate("text", x = 128, y = 40, alpha = 0.3,
label = v_water_mark, colour = "gray0",size = 7,
family = "AppleSDGothicNeo-Heavy") +
theme(axis.title = element_blank())
ggplot(spData::world) +
geom_sf() +
coord_sf(xlim = c(100, 150), # 경도
ylim = c(25, 50)) + # 위도
annotate("text", x = 128, y = 36, alpha = 0.3,
label = v_water_mark, colour = "gray0",size = 7,
family = "AppleSDGothicNeo-Heavy") +
theme(axis.title = element_blank())
ggplot(spData::world) +
geom_sf() +
coord_sf(xlim = c(100, 150), # 경도
ylim = c(25, 50)) + # 위도
annotate("text", x = 128, y = 37, alpha = 0.3,
label = v_water_mark, colour = "gray0",size = 7,
family = "AppleSDGothicNeo-Heavy") +
theme(axis.title = element_blank())
ggplot(spData::world) +
geom_sf() +
coord_sf(xlim = c(100, 150), # 경도
ylim = c(25, 50)) + # 위도
annotate("text", x = 125, y = 37, alpha = 0.3,
label = v_water_mark, colour = "gray0",size = 7,
family = "AppleSDGothicNeo-Heavy") +
theme(axis.title = element_blank())
ggplot(spData::world) +
geom_sf() +
coord_sf(xlim = c(100, 150), # 경도
ylim = c(25, 50)) + # 위도
annotate("text", x = 125, y = 30, alpha = 0.3,
label = v_water_mark, colour = "gray0",size = 7,
family = "AppleSDGothicNeo-Heavy") +
theme(axis.title = element_blank())
ggsave(filename = "./2023/20231215/v05_20231215-03.png",
device = grDevices::png,
width = 8, height = 4.8, dpi = 120, units = "in")
ggplot(korea) +
geom_sf(aes(fill = iso_a2)) +
coord_sf(xlim = c(100, 150), # 경도
ylim = c(25, 50)) + # 위도
scale_fill_brewer(palette = "YlGnBu") +
annotate("text", x = 125, y = 30, alpha = 0.3,
label = v_water_mark, colour = "gray0",size = 7,
family = "AppleSDGothicNeo-Heavy") +
theme_bw() +
theme(legend.position = "none",
axis.title = element_blank(),
text = element_text(family = v_font_bm))
ggplot(korea) +
geom_sf(aes(fill = iso_a2)) +
coord_sf(xlim = c(100, 150), # 경도
ylim = c(25, 50)) + # 위도
scale_fill_brewer(palette = "YlGnBu") +
annotate("text", x = 125, y = 36, alpha = 0.3,
label = v_water_mark, colour = "gray0",size = 7,
family = "AppleSDGothicNeo-Heavy") +
theme_bw() +
theme(legend.position = "none",
axis.title = element_blank(),
text = element_text(family = v_font_bm))
ggsave(filename = "./2023/20231215/v05_20231215-04.png",
device = grDevices::png,
width = 8, height = 4.8, dpi = 120, units = "in")
ggplot(spData::world) +
geom_sf() +
coord_sf(xlim = c(100, 150), # 경도
ylim = c(25, 50)) + # 위도
annotate("text", x = 125, y = 36, alpha = 0.3,
label = v_water_mark, colour = "gray0",size = 7,
family = "AppleSDGothicNeo-Heavy") +
theme(axis.title = element_blank())
ggsave(filename = "./2023/20231215/v05_20231215-03.png",
device = grDevices::png,
width = 8, height = 4.8, dpi = 120, units = "in")
st_bbox(map_5179)
source('./geo_core.R')
map_nocrs = read_sf('~/Documents/map/sig_20230729/sig.shp') |>
mutate(SIG_KOR_NM = iconv(SIG_KOR_NM, from = "EUC-KR", to = 'UTF-8')) |>
ms_simplify(keep = 0.001, keep_shapes = T)
st_bbox(map_nocrs)
map_5179 = map_nocrs |>
st_set_crs(5179)
st_bbox(map_5179)
bb = st_bbox(map_nocrs)
bb[1]
bb$xmin
bb$x
bb[1] + bb[3]
mean(bb[1], bb[3])
bb
mean(bb[1], bb[3])
mean(c(bb[1], bb[3]))
mean(c(bb[2], bb[4]))
xmean = mean(c(bb[1], bb[3]))
ymean = mean(c(bb[2], bb[4]))
ggplot(map_nocrs) +
geom_sf() +
annotate("text", x = 1050000, y = 1800000, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-1) CRS = NA") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
ggplot(map_5179) +
geom_sf() +
annotate("text", x = 1050000, y = 1800000, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-2) CRS = EPSG:5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
plot_layout(ncol = 2)
ggplot(map_nocrs) +
geom_sf() +
annotate("text", x = 1050000, y = 1800000, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-1) CRS = NA") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
ggplot(map_5179) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-2) CRS = EPSG:5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
plot_layout(ncol = 2)
ggplot(map_nocrs) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-1) CRS = NA") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
ggplot(map_5179) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-2) CRS = EPSG:5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
plot_layout(ncol = 2)
ggplot(map_nocrs) +
geom_sf() +
annotate("text", x = 1050000, y = 1800000, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-1) CRS = NA") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
ggplot(map_5179) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-2) CRS = EPSG:5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
plot_layout(ncol = 2)
ggsave(filename = "./2024/20240113/v01-01.png",
device = grDevices::png,
width = 10, height = 5, dpi = 180, units = "in")
ggplot(map_nocrs) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-1) CRS = NA") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
ggplot(map_5179) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-2) CRS = EPSG:5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
plot_layout(ncol = 2)
ggsave(filename = "./2024/20240113/v01-01.png",
device = grDevices::png,
width = 10, height = 5, dpi = 180, units = "in")
ggplot(map_nocrs) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.5,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-1) CRS = NA") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
ggplot(map_5179) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-2) CRS = EPSG:5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
plot_layout(ncol = 2)
ggsave(filename = "./2024/20240113/v01-01.png",
device = grDevices::png,
width = 10, height = 5, dpi = 180, units = "in")
ggplot(map_nocrs) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.6,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-1) CRS = NA") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
ggplot(map_5179) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.6,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-2) CRS = EPSG:5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
plot_layout(ncol = 2)
ggsave(filename = "./2024/20240113/v01-01.png",
device = grDevices::png,
width = 10, height = 5, dpi = 180, units = "in")
ggplot(map_nocrs) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.6,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-1) CRS = NA") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
ggplot(map_5179) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.6,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-2) CRS = EPSG:5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
plot_layout(ncol = 2)
ggsave(filename = "./2024/20240113/v01-01.png",
device = grDevices::png,
width = 10, height = 5, dpi = 180, units = "in")
ggplot(map_nocrs) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-1) CRS = NA") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
ggplot(map_5179) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-2) CRS = EPSG:5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
plot_layout(ncol = 2)
ggsave(filename = "./2024/20240113/v01-01.png",
device = grDevices::png,
width = 10, height = 5, dpi = 180, units = "in")
ggplot(map_nocrs) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-1) CRS = NA") +
theme_bw(base_family = v_font_bm) +
theme(axis.title = element_blank()) +
ggplot(map_5179) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-2) CRS = EPSG:5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
plot_layout(ncol = 2)
ggsave(filename = "./2024/20240113/v01-01.png",
device = grDevices::png,
width = 10, height = 5, dpi = 180, units = "in")
v_font_bold = "AppleSDGothicNeo-Bold"
v_font_heavy = "AppleSDGothicNeo-Heavy"
v_font_base = "AppleSDGothicNeo-Bold"
ggplot(map_nocrs) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-1) CRS = NA") +
theme_bw(base_family = v_font_bold) +
theme(axis.title = element_blank()) +
ggplot(map_5179) +
geom_sf() +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 1-2) CRS = EPSG:5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank()) +
plot_layout(ncol = 2)
ggsave(filename = "./2024/20240113/v01-01.png",
device = grDevices::png,
width = 10, height = 5, dpi = 180, units = "in")
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(5179)) +
labs(title = "(지도 3-1) crs = 5179") +
theme_bw(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank())
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(5179)) +
labs(title = "(지도 3-1) crs = 5179") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank())
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(5179)) +
labs(title = "(지도 3-1) crs = 5179") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank())
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(5179)) +
labs(title = "(지도 3-1) crs = 5179") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(5179)) +
labs(title = "(지도 3-1) crs = 5179") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
ggsave(filename = "./2024/20240113/v01-04.png",
device = grDevices::png,
width = 6, height = 5, dpi = 180, units = "in")
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(4326)) +
labs(title = "(지도 3-2) crs = 4326") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
ggsave(filename = "./2024/20240113/v01-05.png",
device = grDevices::png,
width = 6, height = 5, dpi = 180, units = "in")
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(5179)) +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 3-1) crs = 5179") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
ggsave(filename = "./2024/20240113/v01-04.png",
device = grDevices::png,
width = 6, height = 5, dpi = 180, units = "in")
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = xmean, y = ymean, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 3-2) crs = 4326") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(4326)) +
# annotate("text", x = xmean, y = ymean, alpha = 0.7,
#          label = v_water_mark, colour = "gray0", size = 7,
#          family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 3-2) crs = 4326") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
map_5179
xmean
tibble(x = xmean, y = ymean)
tibble(x = xmean, y = ymean) |>
st_as_sf(coord = c("x", "y"))
tibble(x = xmean, y = ymean) |>
st_as_sf(coords = c("x", "y"))
tibble(x = xmean, y = ymean) |>
st_as_sf(coords = c("x", "y")) |>
st_set_crs("EPSG:5179")
tibble(x = xmean, y = ymean) |>
st_as_sf(coords = c("x", "y")) |>
st_set_crs("EPSG:5179") |>
st_transform("EPSG:4326")
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 127.772, y = 35.90002, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 3-2) crs = 4326") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
ggsave(filename = "./2024/20240113/v01-05.png",
device = grDevices::png,
width = 6, height = 5, dpi = 180, units = "in")
# projected 값을 경도/위도로 바꾸기.
mpoint = tibble(x = xmean, y = ymean) |>
st_as_sf(coords = c("x", "y")) |>
st_set_crs("EPSG:5179") |>
st_transform("EPSG:4326")
mpoint
mpoint$geometry
st_bbox(mpoint)
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 127.77198, y = 35.90002, alpha = 0.7,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 3-2) crs = 4326") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
ggsave(filename = "./2024/20240113/v01-05.png",
device = grDevices::png,
width = 6, height = 5, dpi = 180, units = "in")
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 127.77198, y = 35.90002, alpha = 0.5,
label = v_water_mark, colour = "gray0", size = 7,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 3-2) crs = 4326") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 127.77198, y = 35.90002, alpha = 0.5,
label = v_water_mark, colour = "gray0", size = 5,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 3-2) crs = 4326") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(5179)) +
annotate("text", x = xmean, y = ymean, alpha = 0.5,
label = v_water_mark, colour = "gray0", size = 5,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 3-1) crs = 5179") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
ggsave(filename = "./2024/20240113/v01-04.png",
device = grDevices::png,
width = 6, height = 5, dpi = 180, units = "in")
# projected 값을 경도/위도로 바꾸기.
mpoint = tibble(x = xmean, y = ymean) |>
st_as_sf(coords = c("x", "y")) |>
st_set_crs("EPSG:5179") |>
st_transform("EPSG:4326")
st_bbox(mpoint)
ggplot(map_5179) +
geom_sf() +
coord_sf(crs = st_crs(4326)) +
annotate("text", x = 127.77198, y = 35.90002, alpha = 0.5,
label = v_water_mark, colour = "gray0", size = 5,
family = "AppleSDGothicNeo-Heavy") +
labs(title = "(지도 3-2) crs = 4326") +
theme_void(base_family = "AppleSDGothicNeo-Bold") +
theme(axis.title = element_blank(),
panel.grid = element_line())
ggsave(filename = "./2024/20240113/v01-05.png",
device = grDevices::png,
width = 6, height = 5, dpi = 180, units = "in")
